/*!
 * Consent tracking for Snowplow v3.13.1 ()
 * Copyright 2022 Snowplow Analytics Ltd, 2010 Anthon Pang
 * Licensed under BSD-3-Clause
 */

"use strict";!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).snowplowEnhancedConsentTracking={})}(this,(function(n){function e(n,e,o){if(o||2===arguments.length)for(var t,r=0,c=e.length;r<c;r++)!t&&r in e||(t||(t=Array.prototype.slice.call(e,0,r)),t[r]=e[r]);return n.concat(t||Array.prototype.slice.call(e))}function o(n){var e=n.event;n=e.schema;var o=e.data;return e=function(){var n,e={},o=[],t=[],r=[],c=function(n,o){null!=o&&""!==o&&(e[n]=o)};return{add:c,addDict:function(n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&c(e,n[e])},addJson:function(n,e,r){var c;if(c=r)n:{if(null!=r&&(r.constructor==={}.constructor||r.constructor===[].constructor))for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){c=!0;break n}c=!1}c&&(n={keyIfEncoded:n,keyIfNotEncoded:e,json:r},t.push(n),o.push(n))},addContextEntity:function(n){r.push(n)},getPayload:function(){return e},getJson:function(){return o},withJsonProcessor:function(e){n=e},build:function(){return null==n||n(this,t,r),e}}}(),n={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:o}},e.add("e","ue"),e.addJson("ue_px","ue_pr",n),e}function t(n,e,o){try{var t=null!=n?n:Object.keys(e);n=[];for(var r=0;r<t.length;r++){var c=t[r];e.hasOwnProperty(c)?n.push(e[c]):s.warn(c+" not configured")}n.forEach(o)}catch(n){s.error("Function failed",n)}}function r(n){var e,o={};for(e in n)null!==n[e]&&void 0!==n[e]&&(o[e]=n[e]);return o}function c(n,e){void 0===e&&(e=Object.keys(u));var c=n.context,i=n.timestamp,a=function(n,e){var o,t={};for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&0>e.indexOf(o)&&(t[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(n);r<o.length;r++)0>e.indexOf(o[r])&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]])}return t}(n,["context","timestamp"]);t(e,u,(function(n){n.core.track(o({event:{schema:"iglu:com.snowplowanalytics.snowplow/consent_preferences/jsonschema/1-0-0",data:r(l({},a))}}),c,i)}))}var i,a,l=function(){return l=Object.assign||function(n){for(var e,o=1,t=arguments.length;o<t;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},l.apply(this,arguments)};(a=i||(i={}))[a.none=0]="none",a[a.error=1]="error",a[a.warn=2]="warn",a[a.debug=3]="debug",a[a.info=4]="info";var s=function(n){return void 0===n&&(n=i.warn),{setLogLevel:function(e){n=i[e]?e:i.warn},warn:function(o,t){for(var r=[],c=2;c<arguments.length;c++)r[c-2]=arguments[c];n>=i.warn&&"undefined"!=typeof console&&(c="Snowplow: "+o,t?console.warn.apply(console,e([c+"\n",t],r,!1)):console.warn.apply(console,e([c],r,!1)))},error:function(o,t){for(var r=[],c=2;c<arguments.length;c++)r[c-2]=arguments[c];n>=i.error&&"undefined"!=typeof console&&(c="Snowplow: "+o+"\n",t?console.error.apply(console,e([c+"\n",t],r,!1)):console.error.apply(console,e([c],r,!1)))},debug:function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n>=i.debug&&"undefined"!=typeof console&&console.debug.apply(console,e(["Snowplow: "+o],t,!1))},info:function(o){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];n>=i.info&&"undefined"!=typeof console&&console.info.apply(console,e(["Snowplow: "+o],t,!1))}}}(),u={};n.EnhancedConsentPlugin=function(){var n;return{activateBrowserPlugin:function(e){n=e.id,u[n]=e}}},n.trackCmpVisible=function(n,e){void 0===e&&(e=Object.keys(u));var c=n.context,i=n.timestamp,a=n.elapsedTime;t(e,u,(function(n){n.core.track(o({event:{schema:"iglu:com.snowplowanalytics.snowplow/cmp_visible/jsonschema/1-0-0",data:r(l({},{elapsedTime:a}))}}),c,i)}))},n.trackConsentAllow=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"allow_all"}),e)},n.trackConsentDeny=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"deny_all"}),e)},n.trackConsentExpired=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"expired"}),e)},n.trackConsentImplicit=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"implicit_consent"}),e)},n.trackConsentPending=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"pending"}),e)},n.trackConsentSelected=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"allow_selected"}),e)},n.trackConsentWithdrawn=function(n,e){void 0===e&&(e=Object.keys(u)),c(l(l({},n),{eventType:"withdrawn"}),e)},Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
